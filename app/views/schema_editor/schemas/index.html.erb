<% @schema.each do |key, value| %>
  <table>
    <thead>
      <tr>
        <%= tag.th(
          key,
          data: {
            table: @references.map { |r| replace_id(r) }.include?(key) ? key : nil,
          }
        ) %>
      </tr>
    </thead>
    <tbody>
      <% value.each do |name, type| %>
        <tr>
          <%= tag.td(
            "#{name} (type: #{type.capitalize})",
            data: {
              reference: @references.include?(name) ? replace_id(name) : nil,
              column: name, table: key
            }
          ) %>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
